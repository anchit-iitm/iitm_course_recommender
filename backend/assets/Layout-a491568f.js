import{_ as h}from"./user-6a039ff6.js";import{_ as w,o as l,c as d,w as o,a as t,V as n,b as g,d as V,e as i,f as p,P as _,g as v,h as C,j as k,N as b,O as y,M as f,i as I,r as D}from"./index-9925a73e.js";import{V as L}from"./VNavigationDrawer-550ba28d.js";import{V as x,a as S}from"./VApp-61fe9c0b.js";const B={data(){return{showDropdown:!1,drawer:!0,rail:!1,user:sessionStorage.getItem("name"),email:sessionStorage.getItem("email"),courseList:[{id:"CS101",name:"Introduction to Computer Science",description:"An introductory course covering fundamental concepts in computer science.",difficulty_rating:4.5,level:"foundation",dp_or_ds:"both",credits:3},{id:"MATH201",name:"Calculus II",description:"A continuation of Calculus I, focusing on advanced calculus topics.",difficulty_rating:5,level:"degree",dp_or_ds:"both",credits:4}]}},created(){this.initialize()},methods:{initialize:async function(){let c=sessionStorage.getItem("token");await fetch("/api/v1/courses/all",{method:"GET",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}}).then(e=>e.json().then(a=>({response:e,data:a}))).then(({response:e,data:a})=>{if(!e.ok)throw new Error(`Error ${e.status}: ${a.msg}`);this.courseList=a.filter(u=>u.instructors.map(m=>m.email).includes(sessionStorage.getItem("email")))}).catch(e=>{console.log(e)})},showCoursesDropdown(){this.showDropdown=!this.showDropdown}}},T={class:"pa-2"};function N(c,e,a,u,r,m){return l(),d(L,{color:"primary",modelValue:r.drawer,"onUpdate:modelValue":e[0]||(e[0]=s=>r.drawer=s),rail:r.rail,permanent:"",onClick:e[1]||(e[1]=s=>r.rail=!1)},{append:o(()=>[t(n,{height:"70","prepend-avatar":h,title:r.user,subtitle:r.email,nav:""},null,8,["title","subtitle"]),g("div",T,[t(V,{block:"",to:{name:"Logout"}},{default:o(()=>[i(" Logout ")]),_:1})])]),default:o(()=>[t(n,{height:"60"},{default:o(()=>[t(p,{class:"text-h5 text-center"},{default:o(()=>[i("Course Compass")]),_:1}),t(_,{class:"text-center"},{default:o(()=>[i("CTM Panel")]),_:1})]),_:1}),t(v),t(C,{density:"compact",nav:""},{default:o(()=>[t(n,{"prepend-icon":"mdi-home",title:"My Courses",value:"dashboard",to:{name:"CourseTeamDashboard"}}),t(n,{"prepend-icon":"mdi-book-open-blank-variant",title:"Feedbacks",value:"feedback",onClick:m.showCoursesDropdown,"append-icon":"mdi-chevron-down"},null,8,["onClick"]),r.showDropdown?(l(!0),k(b,{key:0},y(r.courseList,s=>(l(),d(n,{"prepend-icon":"mdi-arrow-right-thin",key:s.id,to:{name:"CourseFeedback",params:{courseId:s.id}}},{default:o(()=>[t(p,null,{default:o(()=>[i(f(s.id),1)]),_:2},1024),t(_,null,{default:o(()=>[i(f(s.name),1)]),_:2},1024)]),_:2},1032,["to"]))),128)):I("",!0)]),_:1})]),_:1},8,["modelValue","rail"])}const A=w(B,[["render",N]]),M={__name:"View",setup(c){return(e,a)=>{const u=D("router-view");return l(),d(x,null,{default:o(()=>[t(u)]),_:1})}}},P={__name:"Layout",setup(c){return(e,a)=>(l(),d(S,null,{default:o(()=>[t(A),t(M)]),_:1}))}};export{P as default};
