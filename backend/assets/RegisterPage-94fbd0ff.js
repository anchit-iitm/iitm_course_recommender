import{_ as p,r as c,o as i,j as h,a as t,w as s,k as f,e as l,l as _,m as g,d as V,b as w,c as y}from"./index-9925a73e.js";import{V as S,a as x}from"./VToolbar-ee674691.js";import{V as b}from"./VForm-2129f89b.js";import{V as n}from"./VTextField-25b902d9.js";import{V as k}from"./VSheet-8d2e0c3b.js";const v={name:"RegisterForm",data(){return{name:"",email:"",password:""}},methods:{register:async function(){await fetch("/api/v1/user/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.name,email:this.email,password:this.password})}).then(o=>o.json().then(e=>({response:o,data:e}))).then(({response:o,data:e})=>{if(o.ok)sessionStorage.setItem("name",this.name),sessionStorage.setItem("email",this.email),sessionStorage.setItem("role","student"),sessionStorage.setItem("token",e.authToken),this.$root.vtoast.show({message:"Registration Successful!"}),this.$router.push({name:"StudentProfile"}),this.$root.vtoast.show({message:"Please Complete Your Profile!",color:"warning"});else throw new Error(`${e.message}`)}).catch(o=>{this.$root.vtoast.show({message:o.message,color:"error"})})}}},T={class:"d-flex align-center justify-center",style:{height:"90vh"}},C={class:"mt-2"};function I(o,e,m,B,a,d){const u=c("router-link");return i(),h("div",T,[t(k,{width:"400",class:"mx-auto"},{default:s(()=>[t(f,{class:"elevation-12"},{default:s(()=>[t(S,{dark:"",color:"primary"},{default:s(()=>[t(x,null,{default:s(()=>[l("Sign In form")]),_:1})]),_:1}),t(_,null,{default:s(()=>[t(b,{"fast-fail":"",onSubmit:g(d.register,["prevent"])},{default:s(()=>[t(n,{modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=r=>a.name=r),name:"name",label:"Name",type:"text",placeholder:"John Doe",required:""},null,8,["modelValue"]),t(n,{modelValue:a.email,"onUpdate:modelValue":e[1]||(e[1]=r=>a.email=r),name:"email",label:"Email",type:"email",placeholder:"email@example.com",required:""},null,8,["modelValue"]),t(n,{modelValue:a.password,"onUpdate:modelValue":e[2]||(e[2]=r=>a.password=r),name:"password",label:"Password",type:"password",placeholder:"password",required:""},null,8,["modelValue"]),t(V,{block:"",type:"submit",class:"fill-width",color:"primary"},{default:s(()=>[l(" Sign In ")]),_:1})]),_:1},8,["onSubmit"]),w("div",C,[l(" Already have an account? "),t(u,{to:"/"},{default:s(()=>[l("Login")]),_:1})])]),_:1})]),_:1})]),_:1})])}const P=p(v,[["render",I]]),E={__name:"RegisterPage",setup(o){return(e,m)=>(i(),y(P))}};export{E as default};
