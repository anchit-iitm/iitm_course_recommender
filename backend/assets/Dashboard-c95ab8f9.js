import{_ as x,o as d,c as u,w as e,a as t,k as c,L as f,e as n,M as o,g as p,l as h,h as _,j as m,N as g,O as C,V as D,f as V,P as y,i as k}from"./index-9925a73e.js";import{V as T,a as L}from"./VApp-61fe9c0b.js";import{V as b}from"./VContainer-cade46d0.js";import{V as E}from"./VRow-fd607537.js";import{V as v}from"./VCol-1084c33d.js";const N={data(){return{foundation:[],diploma:[],degree:[],cards:[],editDialog:!1,editedCourseId:null,editedName:"",editedDescription:"",editedLevel:null,editedDpOrDs:null,editedCredits:"",levelOptions:["foundation","diploma","degree"],dpOrDsOptions:["dp","ds"],card:[{id:1,code:"CS101",name:"Introduction to Computer Science",description:"An introductory course covering fundamental concepts in computer science.",difficulty_rating:4.5,level:"foundation",dp_or_ds:"both",credits:3},{id:1,code:"MATH201",name:"Calculus II",description:"A continuation of Calculus I, focusing on advanced calculus topics.",difficulty_rating:5,level:"degree",dp_or_ds:"both",credits:4}]}},created(){this.initialize()},methods:{async initialize(){let a=sessionStorage.getItem("token");await fetch("/api/v1/courses/all",{method:"GET",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}}).then(i=>i.json().then(r=>({response:i,data:r}))).then(({response:i,data:r})=>{if(!i.ok)throw new Error(`Error ${i.status}: ${r.msg}`);r.filter(l=>l.instructors.map(s=>s.email).includes(sessionStorage.getItem("email"))).forEach(l=>{l.level=="foundation"?this.foundation.push(l):l.level=="diploma"?this.diploma.push(l):this.degree.push(l)})}).catch(i=>{console.log(i)})},editCourse(a){const i=this.cards.find(r=>r.id===a);this.editedCourseId=a,this.editedName=i.name,this.editedLevel=i.level,this.editedDpOrDs=i.dp_or_ds,this.editedCredits=i.credits,this.editedDescription=i.description,this.editDialog=!0},async saveChanges(){try{let a=sessionStorage.getItem("token");const i=await fetch(`/api/v1/courses/${this.editedCourseId}`,{method:"PATCH",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify({name:this.editedName,description:this.editedDescription,level:this.editedLevel,dp_or_ds:this.editedDpOrDs,credits:this.editedCredits})});if(!i.ok)throw new Error(`Error ${i.status}: ${i.statusText}`);await this.initialize(),this.editDialog=!1}catch(a){console.error(a)}},cancelEdit(){this.editDialog=!1}}};function O(a,i,r,S,l,w){return d(),u(L,null,{default:e(()=>[t(T,null,{default:e(()=>[t(b,null,{default:e(()=>[t(E,null,{default:e(()=>[l.foundation.length>0?(d(),u(v,{key:0,cols:"12",md:"6"},{default:e(()=>[t(c,null,{default:e(()=>[t(f,null,{default:e(()=>[n("Foundation Courses ("+o(l.foundation.length)+")",1)]),_:1}),t(p),t(h,null,{default:e(()=>[t(_,null,{default:e(()=>[(d(!0),m(g,null,C(l.foundation,(s,I)=>(d(),u(D,{to:{name:"CourseFeedback",params:{courseId:s.id}}},{default:e(()=>[t(V,null,{default:e(()=>[n(o(s.name),1)]),_:2},1024),t(y,null,{default:e(()=>[n(o(s.id)+" | Difficulty Score: "+o(s.difficulty_rating),1)]),_:2},1024)]),_:2},1032,["to"]))),256))]),_:1})]),_:1})]),_:1})]),_:1})):k("",!0),l.diploma.length>0?(d(),u(v,{key:1,cols:"12",md:"6"},{default:e(()=>[t(c,null,{default:e(()=>[t(f,null,{default:e(()=>[n("Diploma Courses ("+o(l.diploma.length)+")",1)]),_:1}),t(p),t(h,null,{default:e(()=>[t(_,null,{default:e(()=>[(d(!0),m(g,null,C(l.diploma,(s,I)=>(d(),u(D,{to:{name:"CourseFeedback",params:{courseId:s.id}}},{default:e(()=>[t(V,null,{default:e(()=>[n(o(s.name),1)]),_:2},1024),t(y,null,{default:e(()=>[n(o(s.id)+" | Difficulty Score: "+o(s.difficulty_rating),1)]),_:2},1024)]),_:2},1032,["to"]))),256))]),_:1})]),_:1})]),_:1})]),_:1})):k("",!0),l.degree.length>0?(d(),u(v,{key:2,cols:"12",md:"6"},{default:e(()=>[t(c,null,{default:e(()=>[t(f,null,{default:e(()=>[n("Degree Courses ("+o(l.degree.length)+")",1)]),_:1}),t(p),t(h,null,{default:e(()=>[t(_,null,{default:e(()=>[(d(!0),m(g,null,C(l.degree,(s,I)=>(d(),u(D,{to:{name:"CourseFeedback",params:{courseId:s.id}}},{default:e(()=>[t(V,null,{default:e(()=>[n(o(s.name),1)]),_:2},1024),t(y,null,{default:e(()=>[n(o(s.id)+" | Difficulty Score: "+o(s.difficulty_rating),1)]),_:2},1024)]),_:2},1032,["to"]))),256))]),_:1})]),_:1})]),_:1})]),_:1})):k("",!0)]),_:1})]),_:1})]),_:1})]),_:1})}const M=x(N,[["render",O]]);export{M as default};
